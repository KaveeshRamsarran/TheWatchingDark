<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Watching Dark</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <div id="game-container">
        <div id="start-screen">
            <div class="blood-drip" style="left: 15%; animation-delay: 0s;"></div>
            <div class="blood-drip" style="left: 35%; animation-delay: 1.5s;"></div>
            <div class="blood-drip" style="left: 65%; animation-delay: 0.8s;"></div>
            <div class="blood-drip" style="left: 85%; animation-delay: 2s;"></div>
            <div class="shadow-figure" style="left: 5%; top: 60%; animation-delay: 0s;"></div>
            <div class="shadow-figure" style="right: 5%; top: 40%; animation-delay: 1s;"></div>
            <div class="eyes" style="left: 10%; top: 30%;"></div>
            <div class="eyes" style="right: 15%; top: 70%;"></div>
            <div id="settings-icon" title="Settings">⚙</div>
            <h1 class="glitch">THE WATCHING DARK</h1>
            <p class="subtitle">They sense your fear...</p>
            <div class="warning">⚠ Headphones recommended ⚠</div>
            <button id="start-button">ENTER THE VOID</button>
            <div class="instructions">
                <h3 style="color: #ff0000; margin-bottom: 1rem; text-shadow: 0 0 10px rgba(255,0,0,0.5);">HOW TO SURVIVE</h3>
                <p><strong>WASD</strong> - Move through the darkness</p>
                <p><strong>MOUSE</strong> - Look around for threats</p>
                <p><strong>SHIFT</strong> - Sprint (drains sanity faster)</p>
                <p><strong>F</strong> - Toggle flashlight (limited battery)</p>
                <p><strong>SPACE</strong> - Light a match</p>
                <p style="margin-top: 1rem; color: #888; font-style: italic;">Click anywhere to lock cursor and begin.</p>
                <p style="color: #ff6600;">Conserve your resources. Darkness drains your sanity.</p>
            </div>
        </div>
        
        <div id="game-canvas"></div>
        <div id="crosshair">+</div>
        
        <div id="match-counter-message"></div>
        
        <div id="note-prompt">Press [E] to read note</div>
        
        <div id="note-screen">
            <div id="note-content">
                <h2 id="note-title">RESEARCHER'S LOG - FINAL ENTRY</h2>
                <p class="note-date" id="note-date">Date: [REDACTED]</p>
                <div class="note-text" id="note-text">
                    <p>If you're reading this, you're already being watched.</p>
                    <p>They call them "The Watchers" - entities that exist in darkness. I've studied them for months, and I've learned their nature:</p>
                    <p><strong>They freeze when observed.</strong> Look directly at them and they become statues. But the moment you blink, the moment you look away... they move. Silent. Swift. Deadly.</p>
                    <p><strong>They fear the flame.</strong> Light a match near them and they flee in terror. The fire reminds them of something ancient, something that hurt them long ago.</p>
                    <p><strong>You will hear them coming.</strong> Their footsteps echo through these halls - louder than yours, heavier than yours. When you hear them close, you have seconds to decide: look, or run.</p>
                    <p>If you want to survive, remember: <em>Don't blink. Don't turn your back. And whatever you do, don't let them get close.</em></p>
                    <p class="note-signature">- Dr. [ILLEGIBLE] [Walk away to close note]</p>
                </div>
            </div>
        </div>
        
        <div id="game-ui">
            <div class="ui-top">
                <div class="sanity-container">
                    <span class="label">SANITY</span>
                    <div class="sanity-bar">
                        <div id="sanity-fill"></div>
                    </div>
                    <span id="sanity-text">100%</span>
                </div>
                
                <div class="matches-container">
                    <span class="label">MATCHES</span>
                    <div id="matches-count">5</div>
                </div>
            </div>
            
            <div class="minimap-container">
                <canvas id="minimap" width="150" height="150"></canvas>
                <div class="minimap-label">MAP</div>
            </div>
            
            <div class="ui-center">
                <div class="flashlight-container">
                    <span class="label">FLASHLIGHT</span>
                    <div class="battery-bar">
                        <div id="battery-fill"></div>
                    </div>
                    <span id="battery-text">100%</span>
                    <div class="hint">Press F to toggle</div>
                </div>
                
                <div class="stamina-container">
                    <span class="label">STAMINA</span>
                    <div class="stamina-bar">
                        <div id="stamina-fill"></div>
                    </div>
                    <span id="stamina-text">100%</span>
                </div>
            </div>
            
            <div class="ui-bottom">
                <div id="heartbeat">♥</div>
                <div id="status-text"></div>
                <div id="godmode-indicator" style="display: none; position: fixed; top: 10px; right: 10px; background: rgba(0, 255, 0, 0.2); border: 2px solid #0f0; padding: 10px 20px; border-radius: 5px; color: #0f0; font-weight: bold; font-size: 18px; text-shadow: 0 0 10px #0f0; animation: pulse 1s infinite;">
                    ⚡ GOD MODE ACTIVE ⚡
                </div>
            </div>
        </div>
        
        <div id="jumpscare-screen">
            <img src="images/angel.jpg" alt="" id="jumpscare-image">
        </div>
        
        <div id="level2-warning">
            <span>DON'T LOOK</span>
        </div>
        
        <div id="death-screen">
            <h2 class="glitch" id="death-title">CONSUMED BY DARKNESS</h2>
            <p id="death-message"></p>
            <div class="death-buttons">
                <button id="restart-button">RESTART</button>
            </div>
        </div>
        
        <div id="victory-screen">
            <h2 class="glitch">YOU SURVIVED</h2>
            <p>You escaped the watching dark...</p>
            <p id="survival-time"></p>
            <button id="play-again-button">PLAY AGAIN</button>
        </div>
        
        <div id="pause-menu">
            <div id="pause-content">
                <h2 class="pause-title">PAUSED</h2>
                <p class="pause-hint">Press ESC to resume</p>
                
                <div class="pause-settings">
                    <h3 class="settings-subtitle">SETTINGS</h3>
                    
                    <div class="setting-group">
                        <label for="pause-music-volume">Music Volume</label>
                        <div class="slider-container">
                            <input type="range" id="pause-music-volume" min="0" max="100" value="30">
                            <span class="slider-value" id="pause-music-volume-value">30%</span>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <label for="pause-sfx-volume">Sound Effects Volume</label>
                        <div class="slider-container">
                            <input type="range" id="pause-sfx-volume" min="0" max="100" value="75">
                            <span class="slider-value" id="pause-sfx-volume-value">75%</span>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <label for="pause-camera-sensitivity">Camera Sensitivity</label>
                        <div class="slider-container">
                            <input type="range" id="pause-camera-sensitivity" min="50" max="200" value="100">
                            <span class="slider-value" id="pause-camera-sensitivity-value">100%</span>
                        </div>
                    </div>
                    
                    <button id="pause-settings-reset" class="reset-button">Reset to Defaults</button>
                </div>
                
                <div class="pause-buttons">
                    <button id="pause-resume" class="pause-button">RESUME GAME</button>
                    <button id="pause-quit" class="pause-button quit-button">QUIT TO MENU</button>
                </div>
            </div>
        </div>
        
        <div id="settings-panel">
            <div id="settings-content">
                <h2 class="settings-title">SETTINGS</h2>
                <button id="settings-close">✕</button>
                
                <div class="setting-group">
                    <label for="music-volume">Music Volume</label>
                    <div class="slider-container">
                        <input type="range" id="music-volume" min="0" max="100" value="30">
                        <span class="slider-value" id="music-volume-value">30%</span>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label for="sfx-volume">Sound Effects Volume</label>
                    <div class="slider-container">
                        <input type="range" id="sfx-volume" min="0" max="100" value="75">
                        <span class="slider-value" id="sfx-volume-value">75%</span>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label for="camera-sensitivity">Camera Sensitivity</label>
                    <div class="slider-container">
                        <input type="range" id="camera-sensitivity" min="50" max="200" value="100">
                        <span class="slider-value" id="camera-sensitivity-value">100%</span>
                    </div>
                </div>
                
                <button id="settings-reset" class="reset-button">Reset to Defaults</button>
            </div>
        </div>
    </div>
    <script src="game.js"></script>
</body>
</html>
